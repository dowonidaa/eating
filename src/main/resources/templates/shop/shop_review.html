<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>음식점 상세</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/eat.css}">
<!--    <link href="../../static/css/eat.css" rel="stylesheet">-->
</head>

<body th:replace="~{layout :: layout}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
    </script>


    <div th:fragment="content" class="container py-3">
        <!-- ----------------------------------------------------------------- -->
        <!-- content 넣으실 부분 -->
        <!-- footer 하단 고정 때문에 content는 다 wrapper안에 넣음 -->
        <div id='wrapper'>
            <div class="container">
                <img th:src="@{/img/banner_mini.jpg}" alt="배너" class="image">
            </div>
            <div class="title shop-title-container">
                <p class="shop-title" th:text="${shop.shopName}">음식점 이름</p>
            </div>




            <!-- 왼쪽 -->
            <div class="shop-menu-container">

                <div class="container text-center">

                    <div class="shop-detail-container">
                        <div class="shop-image-container">
                            <img th:src="@{/img/shop.jpg}" alt="배너" class="shop-image">
                        </div>

                        <div>
                            <div class="star-score-container">
                                <img th:if="${#strings.toString(shop.starAvg).startsWith('1')}" th:src="@{/img/1star.png}" alt="1 star" class="star-score" />
                                <img th:if="${#strings.toString(shop.starAvg).startsWith('2')}" th:src="@{/img/2star.png}" alt="2 stars" class="star-score" />
                                <img th:if="${#strings.toString(shop.starAvg).startsWith('3')}" th:src="@{/img/3star.png}" alt="3 stars" class="star-score" />
                                <img th:if="${#strings.toString(shop.starAvg).startsWith('4')}" th:src="@{/img/4star.png}" alt="4 stars" class="star-score" />
                                <img th:if="${#strings.toString(shop.starAvg).startsWith('5')}" th:src="@{/img/5star.png}" alt="5 stars" class="star-score" />

                                <span th:text="${shop.starAvg}"></span>
                            </div>
                            <div class="shop-info-container">
                                <p class="red-text" th:text="|최소 주문금액 ${shop.minPrice}|"></p>
                                <p class="grey-text">카카오페이, 카드, 현금</p>
                                <hr>
                                <p class="black-text-small"><b>가게정보</b></p>
                                <p class="grey-text" th:text="|영업시간 : ${shop.runTime}|"></p>
                                <p class="grey-text" th:text="|주소 : ${shop.shopAddr}|"></p>
                                <p class="red-text" th:text="|배달시간 : ${shop.deliveryTime}|"></p>
                                <p class="grey-text" th:text="|전화번호 : ${shop.shopTel}|"></p>
                            </div>



                        </div>


                    </div>


                    <nav class="nav nav-justified nav-menu">
                        <a class="nav-link active" aria-current="page" th:href="@{shop_detail}">
                            <span>메뉴</span>
                        </a>
                        <a class="nav-link list-link" th:href="@{shop_review}">
                            <span>리뷰</span>
                            <span th:text="${shop.reviewCount}"></span>
                        </a>
                    </nav>


                    <!-- 리뷰 -->
                    <div class="review-container">


                        <div class="review-star-container">
                            <div class="review-score">
                                <h1>5.0</h1>
                            </div>
                            <div class="review-star">
                                <img th:src="@{/img/5star.png}" alt="배너" class="star-score">
                            </div>
                        </div>
                        <div class="review-number">
                            <span>리뷰</span>
                            <span>672개</span>
                        </div>


                        <div class="review-content-container">
                            <div class="my-review">
                                <div class="review-type-my">내 리뷰</div>
                                <div class="review-info">
                                    14시간 전
                                </div>
                                <div class="review-star">
                                    <img th:src="@{/img/5star.png}" alt="배너" class="star-score">
                                </div>
                                <div class="review-menu">
                                    후라이드 치킨/토핑 추가 선택, 콜라 1.25L
                                </div>
                                <div class="review-img">
                                    <img th:src="@{/img/chicken.jpg}" alt="배너" class="star-score">
                                </div>
                                <div class="review-content">
                                    오늘은 좀 많이 식어서 왔네요 평소에는 따뜻하게 왔었는데 오늘은 아쉬웠어요 배가 너무 고파서 그냥 먹긴 했는데 그냥 아쉬웠어요
                                </div>
                                <hr>
                            </div>
                            <div class="real-review">
                                <div class="review-real">
                                    <img th:src="@{/img/real.png}" alt="배너">
                                </div>
                                <div class="review-type-real">찐 리뷰</div>
                                <div class="review-user">wl** 님</div>
                                <div class="review-info">
                                    14시간 전
                                </div>
                                <div class="review-star">
                                    <img th:src="@{/img/5star.png}" alt="배너" class="star-score">
                                </div>
                                <div class="review-menu">
                                    후라이드 치킨/토핑 추가 선택, 콜라 1.25L
                                </div>
                                <div class="review-content">
                                    오늘은 좀 많이 식어서 왔네요 평소에는 따뜻하게 왔었는데 오늘은 아쉬웠어요 배가 너무 고파서 그냥 먹긴 했는데 그냥 아쉬웠어요
                                </div>
                                <hr>
                            </div>
                            <div class="bad-review">
                                <div class="review-user">wl** 님</div>
                                <div class="review-info">
                                    14시간 전
                                </div>
                                <div class="review-star">
                                    <img th:src="@{/img/5star.png}" alt="배너" class="star-score">
                                </div>
                                <div class="review-menu">
                                    후라이드 치킨/토핑 추가 선택, 콜라 1.25L
                                </div>
                                <div class="review-content">
                                    오늘은 좀 많이 식어서 왔네요 평소에는 따뜻하게 왔었는데 오늘은 아쉬웠어요 배가 너무 고파서 그냥 먹긴 했는데 그냥 아쉬웠어요
                                </div>
                                <hr>
                            </div>


                        </div>

                    </div>


                </div>



                <!-- 오른쪽 -->
                <div class="right-container">
                    <p class="shop-menu">장바구니</p>
                    <hr>
                    <div class="row">
                        <div class="col">
                            <div class="cart-card" onclick="goSomewhere()">
                                <img th:src="@{/img/whole.jpg}" alt="세트A" class="shop">
                                <div class="card-body">
                                    <h4 class="menu-title">세트 A</h4>
                                    <h4 class="cart-price">15,000원</h4>
                                </div>
                                <div class="quantity">
                                    <button class="quantity-button minus">-</button>
                                    <span class="quantity-number">1</span>
                                    <button class="quantity-button plus">+</button>
                                </div>
                                <button class="remove-button">삭제</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="cart-card" onclick="goSomewhere()">
                                <img th:src="@{/img/chicken.jpg}" alt="세트A" class="shop">
                                <div class="card-body">
                                    <h4 class="menu-title">세트 A</h4>
                                    <h4 class="cart-price">15,000원</h4>
                                </div>
                                <div class="quantity">
                                    <button class="quantity-button minus">-</button>
                                    <span class="quantity-number">1</span>
                                    <button class="quantity-button plus">+</button>
                                </div>
                                <button class="remove-button">삭제</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="cart-card" onclick="goSomewhere()">
                                <img th:src="@{/img/pizza.jpg}" alt="세트A" class="shop">
                                <div class="card-body">
                                    <h4 class="menu-title">세트 A</h4>
                                    <h4 class="cart-price">15,000원</h4>
                                </div>
                                <div class="quantity">
                                    <button class="quantity-button minus">-</button>
                                    <span class="quantity-number">1</span>
                                    <button class="quantity-button plus">+</button>
                                </div>
                                <button class="remove-button">삭제</button>
                            </div>
                        </div>
                    </div>

                    <!-- 합계 -->
                    <div class="cart-total">
                        <div class="deliver">
                            <span class="deliver-left">배달요금</span><span class="deliver-right">3,500원</span>
                        </div>
                        <div class="total">
                            <span class="total-left">합계</span><span class="total-right">3500원</span>
                        </div>
                        <div class="total-button">
                            <div class="order-btn">
                                <button type="button" class="btn btn-primary">주문하기</button>
                            </div>

                            <div class="cancel-btn">
                                <button type="button" class="btn btn-secondary">취소하기</button>
                            </div>


                        </div>


                    </div>
                </div>

            </div>

        </div>




        <!-- ----------------------------------------------------------------- -->
    </div>




    <!-- 수량 변경 -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 모든 .bad-review .review-content 요소를 선택합니다.
            var reviewContents = document.querySelectorAll('.bad-review .review-content');

            // 각 reviewContent에 클릭 이벤트 리스너를 추가합니다.
            reviewContents.forEach(function (reviewContent) {
                reviewContent.addEventListener('click', function () {
                    // 클릭된 reviewContent의 색상을 다시 투명에서 블랙으로 변경합니다.
                    this.style.color = 'black';
                });
            });
        });
    </script>




    <!-- 한글/영어 변환 시 글자가 세로로 표시되는 이슈로 인해 script 코드 추가 -->
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-link, .btn');

            // 각 링크 요소에 대해 반복하여 스타일을 동적으로 조정
            navLinks.forEach(function (link) {
                // 글자 크기에 따라 가로폭 조정
                const fontSize = parseFloat(window.getComputedStyle(link)
                    .fontSize); // 현재 글자 크기
                const textLength = link.textContent.length; // 텍스트 길이

                // 가로폭 조정
                const dynamicWidth = fontSize * textLength + 40; // 글자 크기 * 글자 수 + 여백
                link.style.width = dynamicWidth + 'px';
            });
        });
    </script>
</body>


</html>